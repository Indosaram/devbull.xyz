---
title: "602. Friend Requests II: Who Has the Most Friends"
images: ["None"]
date: "2023-02-11T01:04:07.000Z"
tags: ['codingtest', 'leetcode']
---

<TOCInline toc={props.toc} asDisclosure />
## Problem

[LeetCode - The Worldâ€™s Leading Online Programming Learning Platform

Level up your coding skills and quickly land a job. This is the best place to expand your knowledge and get prepared for your next interview.

![](https://leetcode.com/favicon.ico)LeetCode

![](https://leetcode.com/static/images/LeetCode_Sharing.png)](https://leetcode.com/problems/friend-requests-ii-who-has-the-most-friends/)

## Solution

```
SELECT Req.id, IFNULL(req_count, 0) + IFNULL(acc_count,0) AS num
FROM
(SELECT requester_id AS id, COUNT(requester_id) AS req_count
FROM RequestAccepted
GROUP BY requester_id) AS Req
LEFT JOIN
(SELECT accepter_id AS id, COUNT(accepter_id) AS acc_count
FROM RequestAccepted
GROUP BY accepter_id) AS Acc
ON Req.id = Acc.id
ORDER BY num DESC
LIMIT 1
```
